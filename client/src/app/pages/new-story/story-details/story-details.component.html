<h2>Story Details</h2>

<form [formGroup]="detailsForm">
  <div class="form-group">
    <label for="title">Title</label>
    <input type="text" formControlName="title" id="title" class="form-control" [class.is-invalid]="isInvalid(detailsForm.get('title'))">
    <small class="form-text text-muted">An eye-opening title or just the individual / group's name.</small>
  </div>

  <div class="form-group">
    <label for="details">Details</label>
    <textarea id="details" formControlName="details" class="form-control" [class.is-invalid]="isInvalid(detailsForm.get('details'))"></textarea>
    <small class="form-text text-muted">How has this condition affected family and loved ones?</small>
  </div>

  <div class="form-group">
    <label for="main-image">Main Image</label>
    <input type="file" (change)="onFileChange($event)" id="main-image" class="form-control">
    <small class="form-text text-muted">This is the main image associated with your story, make it inspirational!</small>

    <div class="d-flex flex-wrap justify-content-between mt-4">
      <div *ngIf="detailsForm.get('mainImage').get('raw').value">
        <a (click)="deleteImage()" [routerLink]="" class="close-icon position-absolute rounded-circle" aria-label="Delete">
          <fa-icon [icon]="faTimes" transform="shrink-2"></fa-icon>
        </a>
        <img [src]="detailsForm.get('mainImage').get('raw').value" class="img-thumbnail w-100 mt-2">
      </div>
    </div>
  </div>

  <hr>

  <div class="form-row">
    <div class="form-group col">
      <input type="button" value="Save" (click)="onSave()" class="btn btn-light btn-block">
    </div>
    <div class="form-group col">
      <input type="submit" value="Next" (click)="onSubmit()" class="btn btn-primary btn-block">
    </div>
  </div>
</form>
